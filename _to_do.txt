To do
=======================================================

Download all PDF:s?

Make sure all classes are robust and well documented, to protect the database. 
Minimize all db calls, handle it with verifications in the classes. 
Add UPSERT:s instead of dropping tables... and use upsert/save to db always!

Must start identifying doubles and divisions early, just sort them out initilially, then we fix proper parsing later.

Manual work on player and club duplciates..


 - Split validation and insert function with only "clean" records. Implement batch insert.
   This way db_results will always be OK, but create new validation_results to print.

 - Simplify cache functions by creating a generic build_cache(cursor, table_name, key_fields, value_fields="*" function)
    

Improvements long term
=======================================================
- Fix the pathing/packages whatever so everything doesnt have to be in /src
- Figure out how to deal with transitions
  Im thinking to create a separate player_license table which can be searched if not "real" license is found
  This would keep the integrity of the player_license so it only holds real scraped data
- Should be able to search the transtion and license RAW tables for players not found. Then I can resolve firstname and lastname, even though I dont have player_id_ext!


‚ÑπÔ∏è  Participant update complete in 4407.42s
‚ÑπÔ∏è  Total participants parsed: 451693/439951
üìä Database Summary:
   ‚úÖ Success: 450632
      ‚Ä¢ Participant added successfully (matching canonical player): 283403
      ‚Ä¢ Participant added successfully (new unverified player): 26601
      ‚Ä¢ Participant added successfully (existing unverified player): 140628
   ‚ùå Failed: 553
      ‚Ä¢ Ambiguous player candidates with valid licenses: 391
      ‚Ä¢ Ambiguous player candidates with expired licenses: 135
      ‚Ä¢ Ambiguous transition matches: 12
      ‚Ä¢ Ambiguous substring + license matches: 12
      ‚Ä¢ PDF parsing failed: No /Root object! - Is this really a PDF?: 3
   ‚è≠Ô∏è  Skipped: 511
      ‚Ä¢ Participant already exists (unverified player): 504
      ‚Ä¢ Participant already exists (matching canonical player): 7
   ‚ö†Ô∏è  Warning: 333634
      ‚Ä¢ Player did not have a valid license in the club on the day of the tournament: 44817
      ‚Ä¢ Matched via prior season license (expired before class_date): 4447
      ‚Ä¢ Could not match with verified player, new unverified player inserted: 26601
      ‚Ä¢ Matched via prior-season license (expired): 696
      ‚Ä¢ Could not match with verified player, existing unverified player used: 141132
      ‚Ä¢ Using 'Unknown club' as fallback: 109872
      ‚Ä¢ Matched via name-substring against 3+ token candidate: 5793
      ‚Ä¢ Club name matched by prefix: 276